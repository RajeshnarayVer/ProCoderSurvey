<?xml version="1.0"?>
<project name="JunitTest" default="all" basedir=".">
  
<property name="testdir" location="junit_resources" />
<property name="jardir" location="WebContent" />
<property name="target.dir" value="target"/>
<property name="report.dir" value="report"/>
   
   <property name="full-compile" value="true" />

<path id="classpath.test">

  <pathelement location="${jardir}/WEB-INF/lib/junit4_4.3.1.jar" />
  <pathelement location="${jardir}/WebContent/WEB-INF/lib/hamcrest-all-1.3.jar" />
  <pathelement location="${jardir}/WEB-INF/lib/jersey-client-1.11.jar" />
  <pathelement location="${jardir}/WEB-INF/lib/jersey-core-1.11.jar" />
  <pathelement location="${jardir}/WEB-INF/lib/log4j-1.2.8.jar" />
  <pathelement location="${testdir}" />
  <pathelement location="${target.dir}" />
  <pathelement location="${report.dir}" />
  <pathelement location="${testdir}/${tmp}/${target.dir}/classes"/>

</path>


   <target name="clean" >
  <delete verbose="${full-compile}">
 <fileset dir="${testdir}" includes="**/*.class" />
  </delete>
   </target>

<target name="compile" depends="clean">
	
	 <mkdir dir="${testdir}/${tmp}/${target.dir}" />
	      <mkdir dir="${testdir}/${tmp}/${target.dir}/classes" />
	      <mkdir dir="${testdir}/${report.dir}" />
  <javac includeantruntime="false" srcdir="${testdir}/TSuite_Workflow" destdir="${testdir}/${tmp}/${target.dir}/classes"  failonerror="true" 
 verbose="${full-compile}">

 <classpath refid="classpath.test"/>
  </javac>

   </target>
   <target name="test" depends="compile">

<junit haltonfailure="false" printsummary="true">
  
     <classpath>
        <path refid="classpath.test"/>
 </classpath>
<formatter type="plain" usefile="false" />
      	 <formatter type="xml" />
      	            <batchtest todir="${testdir}/${report.dir}">
      	            	<path refid="classpath.test"/>
      	                <fileset dir="${testdir}/${tmp}/${target.dir}/classes">
      	                    <include name="**/TCaseWorkflow.class" />
      	               </fileset>
      	            </batchtest>
	<test name="TSuite_Workflow.TCaseWorkflow" />
  </junit>
<junitreport todir="${testdir}/${report.dir}">
   	   	   	  <fileset dir="${testdir}/${report.dir}">
   	   	   	    <include name="TEST-*.xml"/>
   	   	   	  </fileset>
   	   	   	  <report format="frames" todir="${testdir}/${report.dir}"/>
</junitreport>
   </target>
   
	<target name="all" depends="test" />
</project>
